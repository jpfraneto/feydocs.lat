"{\"value\":{\"mdx\":\"# Token Deployment\\n\\nLearn how to deploy tokens on the FEY Protocol, including configuration options, best practices, and the complete deployment flow.\\n\\n## Overview\\n\\nToken deployment on FEY Protocol is a comprehensive process that creates not just a token, but an entire trading ecosystem with liquidity positions, fee distribution, and optional extensions.\\n\\n### What Gets Created\\n\\nEvery deployment creates:\\n- **ERC20 Token**: 100B supply with governance and cross-chain features\\n- **Uniswap V4 Pool**: TOKEN/FEY pair with dynamic fees\\n- **LP Positions**: Up to 7 concentrated liquidity positions\\n- **Reward System**: Configurable fee splits to multiple recipients\\n- **MEV Protection**: 2-minute protection window for fair launch\\n- **Extensions**: Optional dev buy, presale, or other functionality\\n\\n## Deployment Configuration\\n\\n### TokenConfig\\n\\n```typescript\\ninterface TokenConfig {\\n  name: string;                 // Token name (e.g., \\\"My Token\\\")\\n  symbol: string;               // Token symbol (e.g., \\\"MTK\\\")\\n  image: string;                // Image URL for token logo\\n  metadata: string;             // JSON metadata URL\\n  context: string;              // Additional context/description\\n  tokenAdmin: address;          // Admin address for token management\\n  salt: uint256;                // CREATE2 salt for deterministic address\\n  originatingChainId: uint256;  // Chain where token is first created\\n}\\n```\\n\\n### PoolConfig\\n\\n```typescript\\ninterface PoolConfig {\\n  hook: address;                // FEY Hook address\\n  pairedToken: address;         // Paired token (overridden to FEY)\\n  tickIfToken0IsFey: int24;     // Starting tick if FEY is token0\\n  tickSpacing: int24;           // Tick spacing (200 for FEY pools)\\n  poolData: bytes;              // Encoded pool initialization data\\n}\\n```\\n\\n### LockerConfig\\n\\n```typescript\\ninterface LockerConfig {\\n  locker: address;              // LP Locker contract address\\n  tickLower: int24[];           // Lower ticks for LP positions\\n  tickUpper: int24[];           // Upper ticks for LP positions\\n  positionBps: uint16[];        // Token allocation per position (basis points)\\n  rewardBps: uint16[];          // Fee split per recipient (basis points)\\n  rewardAdmins: address[];      // Admin addresses for each reward\\n  rewardRecipients: address[];  // Recipient addresses for fees\\n}\\n```\\n\\n### ExtensionConfig\\n\\n```typescript\\ninterface ExtensionConfig {\\n  extension: address;           // Extension contract address\\n  extensionBps: uint16;         // Token allocation to extension\\n  msgValue: uint256;           // ETH to send to extension\\n  extensionData: bytes;        // Extension-specific configuration\\n}\\n```\\n\\n## Step-by-Step Deployment\\n\\n### 1. Prepare Configuration\\n\\nBefore deployment, gather all required information:\\n\\n```javascript\\nconst deploymentConfig = {\\n  tokenConfig: {\\n    name: \\\"My Amazing Token\\\",\\n    symbol: \\\"MAT\\\",\\n    image: \\\"https://example.com/token-logo.png\\\",\\n    metadata: \\\"https://example.com/metadata.json\\\",\\n    context: \\\"A revolutionary token for...\\\",\\n    tokenAdmin: \\\"0x1234...5678\\\", // Your address\\n    salt: \\\"0x1234567890abcdef\\\",\\n    originatingChainId: 8453 // Base mainnet\\n  },\\n  poolConfig: {\\n    hook: \\\"0x5B409184204b86f708d3aeBb3cad3F02835f68cC\\\",\\n    pairedToken: \\\"0x0000000000000000000000000000000000000000\\\", // Will be set to FEY\\n    tickIfToken0IsFey: -276326, // Starting price tick\\n    tickSpacing: 200,\\n    poolData: \\\"0x...\\\" // Encoded pool data\\n  },\\n  lockerConfig: {\\n    locker: \\\"0x975aF6a738f502935AFE64633Ad3EA2A3eb3e7Fa\\\",\\n    tickLower: [-887272], // Single full-range position\\n    tickUpper: [887272],\\n    positionBps: [10000], // 100% of tokens\\n    rewardBps: [10000], // 100% of rewards to one recipient\\n    rewardAdmins: [\\\"0x1234...5678\\\"],\\n    rewardRecipients: [\\\"0x1234...5678\\\"]\\n  },\\n  mevModuleConfig: {\\n    mevModule: \\\"0x2ebc0fA629b268dFA3d455b67027d507a562EAC0\\\",\\n    mevModuleData: \\\"0x\\\"\\n  },\\n  extensionConfigs: [\\n    {\\n      extension: \\\"0x173077c319c38bb08D4C4968014357fd518446b4\\\", // Dev buy\\n      extensionBps: 0, // No token allocation for dev buy\\n      msgValue: ethers.parseEther(\\\"1.0\\\"), // 1 ETH for dev buy\\n      extensionData: encodedDevBuyData\\n    }\\n  ]\\n};\\n```\\n\\n### 2. Encode Extension Data\\n\\nFor dev buy extension:\\n\\n```javascript\\nfunction encodeDevBuyData(recipient, pairedTokenPoolKey, pairedTokenAmountOutMinimum) {\\n  return ethers.AbiCoder.defaultAbiCoder().encode(\\n    ['address', 'tuple(address,address,uint24,int24,address)', 'uint128'],\\n    [recipient, pairedTokenPoolKey, pairedTokenAmountOutMinimum]\\n  );\\n}\\n```\\n\\n### 3. Calculate Required ETH\\n\\n```javascript\\n// Calculate total ETH needed for extensions\\nconst totalEthRequired = deploymentConfig.extensionConfigs.reduce(\\n  (sum, ext) => sum + ext.msgValue,\\n  0n\\n);\\n```\\n\\n### 4. Execute Deployment\\n\\n```javascript\\n// Deploy token with configuration\\nconst factory = new ethers.Contract(\\n  \\\"0x8EEF0dC80ADf57908bB1be0236c2a72a7e379C2d\\\",\\n  factoryABI,\\n  signer\\n);\\n\\nconst tx = await factory.deployToken(deploymentConfig, {\\n  value: totalEthRequired, // ETH for extensions\\n  gasLimit: 5000000 // Deployment requires significant gas\\n});\\n\\nconst receipt = await tx.wait();\\n```\\n\\n### 5. Extract Token Address\\n\\n```javascript\\n// Get token address from TokenCreated event\\nconst tokenCreatedEvent = receipt.logs.find(\\n  log => log.fragment?.name === 'TokenCreated'\\n);\\n\\nconst tokenAddress = tokenCreatedEvent.args.tokenAddress;\\nconsole.log(\\\"Token deployed at:\\\", tokenAddress);\\n```\\n\\n## Deployment Flow\\n\\n```mermaid\\nsequenceDiagram\\n    participant User\\n    participant Factory\\n    participant Deployer\\n    participant Hook\\n    participant Locker\\n    participant Extension\\n    participant PoolManager\\n\\n    User->>Factory: deployToken(config) + ETH\\n    \\n    rect rgb(240, 248, 255)\\n        Note over Factory, Deployer: Token Creation Phase\\n        Factory->>Deployer: deployToken(tokenConfig, 100B)\\n        Deployer->>Deployer: CREATE2 new FeyToken\\n        Deployer-->>Factory: tokenAddress\\n    end\\n\\n    rect rgb(245, 255, 245)\\n        Note over Factory, PoolManager: Pool Setup Phase\\n        Factory->>Hook: initializePool(...)\\n        Hook->>PoolManager: poolManager.initialize()\\n        Hook->>Hook: Store pool configuration\\n        Hook-->>Factory: poolKey\\n    end\\n\\n    rect rgb(255, 248, 240)\\n        Note over Factory, Locker: Liquidity Phase  \\n        Factory->>Locker: placeLiquidity(...)\\n        Locker->>PoolManager: Mint LP positions\\n        Locker->>Locker: Configure reward splits\\n        Locker-->>Factory: positionIds\\n    end\\n\\n    rect rgb(248, 240, 255)\\n        Note over Factory, Extension: Extension Phase\\n        Factory->>Extension: receiveTokens{value}(...)\\n        Extension->>Extension: Execute dev buy logic\\n        Extension->>PoolManager: Perform swaps\\n        Extension-->>Factory: Complete\\n    end\\n\\n    rect rgb(255, 245, 245)\\n        Note over Factory, Hook: Finalization Phase\\n        Factory->>Hook: initializeMevModule(...)\\n        Hook->>Hook: Enable MEV protection\\n        Factory->>Factory: Store deployment info\\n        Factory-->>User: tokenAddress\\n    end\\n```\\n\\n## Best Practices\\n\\n### Token Configuration\\n\\n**Naming:**\\n- Use clear, memorable names\\n- Avoid special characters\\n- Keep symbols short (2-5 characters)\\n\\n**Metadata:**\\n- Host images on reliable CDNs\\n- Use standard token metadata format\\n- Include comprehensive descriptions\\n\\n**Admin Address:**\\n- Use a secure, controlled address\\n- Consider multi-sig for important tokens\\n- Plan for potential admin transfers\\n\\n### Liquidity Setup\\n\\n**Position Configuration:**\\n- Full-range positions for maximum liquidity\\n- Consider multiple positions for price ranges\\n- Ensure position basis points sum to 10,000\\n\\n**Reward Distribution:**\\n- Plan long-term reward recipients\\n- Use secure admin addresses\\n- Consider decentralized governance\\n\\n**Fee Optimization:**\\n- Understand tick spacing requirements\\n- Plan starting price carefully\\n- Consider market conditions\\n\\n### Extension Usage\\n\\n**Dev Buy Configuration:**\\n- Set reasonable ETH amounts\\n- Configure slippage protection\\n- Use secure recipient addresses\\n\\n**Future Extensions:**\\n- Plan for additional functionality\\n- Keep extension allocations reasonable\\n- Test thoroughly before mainnet\\n\\n## Common Patterns\\n\\n### Standard Fair Launch\\n\\n```javascript\\n// Simple fair launch with dev buy\\n{\\n  extensionConfigs: [\\n    {\\n      extension: DEV_BUY_EXTENSION,\\n      extensionBps: 0, // No token allocation\\n      msgValue: ethers.parseEther(\\\"5.0\\\"), // 5 ETH buy\\n      extensionData: encodeDevBuyData(deployer, feyWethPool, minOut)\\n    }\\n  ],\\n  lockerConfig: {\\n    rewardBps: [10000], // 100% to deployer\\n    rewardRecipients: [deployer]\\n  }\\n}\\n```\\n\\n### Community Launch\\n\\n```javascript\\n// Launch with community treasury\\n{\\n  lockerConfig: {\\n    rewardBps: [5000, 5000], // 50/50 split\\n    rewardRecipients: [deployer, communityTreasury],\\n    rewardAdmins: [deployer, communityMultisig]\\n  }\\n}\\n```\\n\\n### Team Launch\\n\\n```javascript\\n// Launch with team allocation\\n{\\n  extensionConfigs: [\\n    {\\n      extension: TEAM_VESTING_EXTENSION,\\n      extensionBps: 1000, // 10% to team vesting\\n      msgValue: 0,\\n      extensionData: encodeVestingData(teamAddresses, vestingSchedule)\\n    }\\n  ],\\n  lockerConfig: {\\n    rewardBps: [7000, 3000], // 70% deployer, 30% team\\n    rewardRecipients: [deployer, teamTreasury]\\n  }\\n}\\n```\\n\\n## Monitoring Deployment\\n\\n### Track Progress\\n\\n```javascript\\n// Monitor deployment transaction\\nconst deploymentTx = await factory.deployToken(config, { value: ethValue });\\n\\n// Wait for confirmation\\nconst receipt = await deploymentTx.wait(2); // Wait for 2 confirmations\\n\\n// Extract all relevant events\\nconst events = receipt.logs.map(log => {\\n  try {\\n    return factory.interface.parseLog(log);\\n  } catch (e) {\\n    return null;\\n  }\\n}).filter(Boolean);\\n\\nconsole.log(\\\"Deployment events:\\\", events);\\n```\\n\\n### Verify Deployment\\n\\n```javascript\\n// Check token deployment info\\nconst deploymentInfo = await factory.tokenDeploymentInfo(tokenAddress);\\nconsole.log(\\\"Locker:\\\", deploymentInfo.locker);\\nconsole.log(\\\"Hook:\\\", deploymentInfo.hook);\\nconsole.log(\\\"Extensions:\\\", deploymentInfo.extensions);\\n\\n// Verify token properties\\nconst token = new ethers.Contract(tokenAddress, tokenABI, provider);\\nconst totalSupply = await token.totalSupply();\\nconst name = await token.name();\\n\\nconsole.log(`${name}: ${totalSupply.toString()} total supply`);\\n```\\n\\n## Troubleshooting\\n\\n### Common Issues\\n\\n**Deployment Reverts:**\\n- Check all arrays have matching lengths\\n- Ensure reward BPS sum to 10,000\\n- Verify extension configurations\\n- Check ETH amount covers all extensions\\n\\n**MEV Module Issues:**\\n- Ensure MEV module is enabled in factory\\n- Check module initialization data\\n- Verify module contract compatibility\\n\\n**Extension Failures:**\\n- Verify extension is enabled in allowlist\\n- Check extension data encoding\\n- Ensure sufficient ETH for extensions\\n\\n### Error Messages\\n\\n| Error | Cause | Solution |\\n|-------|-------|----------|\\n| `Deprecated` | Factory deprecated | Wait for reactivation or use bootstrap |\\n| `BaseTokenNotSet` | No base token configured | Complete protocol bootstrap |\\n| `ExtensionNotEnabled` | Extension not approved | Add to allowlist first |\\n| `InvalidRewardBps` | Reward BPS don't sum to 10000 | Fix reward distribution |\\n| `ExtensionMsgValueMismatch` | ETH amount mismatch | Match ETH to extension configs |\\n\\n---\\n\\n## Next Steps\\n\\nAfter deployment:\\n\\n- **Monitor Trading**: [Trading & Swaps →](/flows/swapping)\\n- **Claim Rewards**: [Fee Collection →](/flows/fees)  \\n- **Track Performance**: [State Queries →](/guides/queries)\\n- **Manage Token**: [Admin Operations →](/support/admin)\",\"document\":[]}}"
